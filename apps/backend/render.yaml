# Render.com Service Configuration
# This file helps with automatic deployment setup

name: pollgen-backend
type: web

env:
  - NODE_VERSION=18

buildCommand: npm install && npm install typescript && ./node_modules/.bin/tsc --outDir dist --rootDir src --target es2020 --module commonjs --esModuleInterop --skipLibCheck --allowJs --resolveJsonModule --moduleResolution node --allowSyntheticDefaultImports --strict false --noImplicitAny false src/index.ts
startCommand: npm run render:start

# Health check endpoint
healthCheckPath: /

# Environment variables (set these in Render dashboard)
envVars:
  - key: PORT
    value: 8000
  - key: NODE_ENV
    value: production
  - key: MONGODB_URI
    fromDatabase: mongodb-atlas
  - key: FRONTEND_URL
    fromService: pollgen-frontend
  - key: GEMINI_API_KEY
    fromSecret: gemini-api-key